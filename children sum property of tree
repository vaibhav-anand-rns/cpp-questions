#include <iostream>
using namespace std;

struct TreeNode {
    int val;
    TreeNode* left;
    TreeNode* right;
    TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
};

bool hasChildrenSumProperty(TreeNode* node) {
    if (!node || (!node->left && !node->right)) {
        return true; // null or leaf node satisfies property
    }

    int leftVal = (node->left) ? node->left->val : 0;
    int rightVal = (node->right) ? node->right->val : 0;

    return (node->val == leftVal + rightVal) &&
           hasChildrenSumProperty(node->left) &&
           hasChildrenSumProperty(node->right);
}
